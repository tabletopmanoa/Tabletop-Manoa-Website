<template name="AddGame_Page">
  <div class="ui fluid text container segment">
    <h1 class="ui dividing header">
      Create Your Own Game Group
    </h1>
    <form class="ui equal width form segment game-data-form {{ errorClass }}">
      <a class="ui red ribbon label">Category</a>
      <div class="ui divider"></div>
      <div class="block">
        <div class="grouped fields">
          <div class="field">
            <div class="ui radio checkbox">
              <input type="radio" id="RPG" name="category">
              <label>Role Playing Games</label>
            </div>
          </div>
          <div class="field">
            <div class="ui radio checkbox">
              <input type="radio" id="Card" name="category">
              <label>Card Games</label>
            </div>
          </div>
          <div class="field">
            <div class="ui radio checkbox">
              <input type="radio" id="Board" name="category">
              <label>Board Games</label>
            </div>
          </div>
          <div class="field">
            <div class="ui radio checkbox">
              <input type="radio" id="Mini" name="category">
              <label>Miniatures</label>
            </div>
          </div>
        </div>
      </div>
      <div id="rpg" style="display:none">
        <a class="ui teal ribbon label">Game Information</a>
        <div class="ui divider"></div>
        <div class="field">
          <label>Game</label>
          <select name="gameRPG" class="ui dropdown" id="gameRPG" onchange='enterNameRPG(this.value);'>
            <option value="">Name</option>
            <option value="1">Call of Cthulhu</option>
            <option value="2">Dungeons & Dragons</option>
            <option value="3">Pathfinder Roleplaying Game</option>
            <option value="4">Shadowrun</option>
            <option value="5">Star Wars The Roleplaying Game</option>
            <option value="6">Vampire: The Masquerade</option>
            <option value="7">Other</option>
          </select>
          <br/><br/>
          <input type="text" placeholder="Please enter the name of your game" name="enterRPG" id="enterRPG"
                 style='display:none;'/>
          <br/>
        </div>
      </div>
      <div id='card' style='display:none'>
        <a class="ui teal ribbon label">Game Information</a>
        <div class="ui divider"></div>
        <div class="field">
          <label>Game</label>
          <select name="gameCard" class="ui dropdown" id="gameCARD" onchange='enterNameCard(this.value);'>
            <option value="">Name</option>
            <option value="1">Crazy Eights</option>
            <option value="2">Cribbage</option>
            <option value="3">Exploding Kittens</option>
            <option value="4">Hearts</option>
            <option value="5">Magic the Gathering</option>
            <option value="6">Poker</option>
            <option value="7">Rummy</option>
            <option value="8">Spades</option>
            <option value="9">Trumps</option>
            <option value="10">Other</option>
          </select>
          <br/><br/>
          <input type="text" required=true placeholder="Please enter the name of your game" name="enterCard" id="enterCard"
                 style='display:none;'/>
          <br/>
        </div>
      </div>
      <div id='board' style='display:none'>
        <a class="ui teal ribbon label">Game Information</a>
        <div class="ui divider"></div>
        <div class="field">
          <label>Game</label>
          <select name="gameBoard" class="ui dropdown" id="gameBOARD" onchange='enterNameBoard(this.value);'>
            <option value="">Name</option>
            <option value="1">Backgammon</option>
            <option value="2">Chess</option>
            <option value="3">Monopoly</option>
            <option value="4">Risk</option>
            <option value="5">Scrabble</option>
            <option value="6">Yahtzee</option>
            <option value="7">Other</option>
          </select>
          <br/><br/>
          <input type="text" required=true placeholder="Please enter the name of your game" name="enterBoard" id="enterBoard"
                 style='display:none;'/>
          <br/>
        </div>
      </div>
      <div id='mini' style='display:none'>
        <a class="ui teal ribbon label">Game Information</a>
        <div class="ui divider"></div>
        <div class="field">
          <label>Game</label>
          <select name="gameMINI" class="ui dropdown" id="gameMINI" onchange='enterNameMini(this.value);'>
            <option value="">Name</option>
            <option value="1">Hordes</option>
            <option value="2">Star Wars: X-Wing</option>
            <option value="3">War Hammer</option>
            <option value="4">War Machine</option>
            <option value="5">Other</option>
          </select>
          <br/><br/>
          <input type="text" required=true placeholder="Please enter the name of your game" name="enterMini" id="enterMini"
                 style='display:none;'/>
          <br/>
        </div>
      </div>
      <div id='dataFields' style='display:none'>
        <div class="ui divider"></div>
        <a class="ui orange ribbon label">Meeting Information</a>
        <div class="ui divider"></div>
        <div class="ui grid container">
          <label for="date">Meeting Date </label>
          <input id="date" type="date"/>
        </div>
        <br/>
        <div class="two fields">
          <div class="required field">
            <label>Start Time</label>
            <select class="ui fluid search dropdown" name="start" id="start">
              <option value="">Select a Start Time</option>
              <option value="00:00">12:00AM</option>
              <option value="01:00">1:00AM</option>
              <option value="02:00">2:00AM</option>
              <option value="03:00">3:00AM</option>
              <option value="04:00">4:00AM</option>
              <option value="05:00">5:00AM</option>
              <option value="06:00">6:00AM</option>
              <option value="07:00">7:00AM</option>
              <option value="08:00">8:00AM</option>
              <option value="09:00">9:00AM</option>
              <option value="10:00">10:00AM</option>
              <option value="11:00">11:00AM</option>
              <option value="12:00">12:00PM</option>
              <option value="13:00">1:00PM</option>
              <option value="14:00">2:00PM</option>
              <option value="15:00">3:00PM</option>
              <option value="16:00">4:00PM</option>
              <option value="17:00">5:00PM</option>
              <option value="18:00">6:00PM</option>
              <option value="19:00">7:00PM</option>
              <option value="20:00">8:00PM</option>
              <option value="21:00">9:00PM</option>
              <option value="22:00">10:00PM</option>
              <option value="23:00">11:00PM</option>
            </select>

          </div>
          <div class="required field">
            <label>End Time</label>
            <select class="ui fluid search dropdown" name="end" id="end">
              <option value="">Select an End Time</option>
              <option value="00:00">12:00AM</option>
              <option value="01:00">1:00AM</option>
              <option value="02:00">2:00AM</option>
              <option value="03:00">3:00AM</option>
              <option value="04:00">4:00AM</option>
              <option value="05:00">5:00AM</option>
              <option value="06:00">6:00AM</option>
              <option value="07:00">7:00AM</option>
              <option value="08:00">8:00AM</option>
              <option value="09:00">9:00AM</option>
              <option value="10:00">10:00AM</option>
              <option value="11:00">11:00AM</option>
              <option value="12:00">12:00PM</option>
              <option value="13:00">1:00PM</option>
              <option value="14:00">2:00PM</option>
              <option value="15:00">3:00PM</option>
              <option value="16:00">4:00PM</option>
              <option value="17:00">5:00PM</option>
              <option value="18:00">6:00PM</option>
              <option value="19:00">7:00PM</option>
              <option value="20:00">8:00PM</option>
              <option value="21:00">9:00PM</option>
              <option value="22:00">10:00PM</option>
              <option value="23:00">11:00PM</option>
            </select>

          </div>
        </div>
        <div class="column">
          <div class="ui checkbox">
            <input type="checkbox" name="Recurring" id="Recurring" checked="">
            <label>Is this meeting recurring? </label>
          </div>
        </div>
        <br/>
        <div class="ui two column grid">
          <div class="seven wide column">
            <label style="color: black">Maximum Players</label>
            <select class="ui dropdown" id="Players">
              <option value="">Max Players</option>
              <option value="2">2 Players</option>
              <option value="3">3 Players</option>
              <option value="4">4 Players</option>
              <option value="5">5 Players</option>
              <option value="6">6 Players</option>
              <option value="7">7 Players</option>
              <option value="8">8 Players</option>
              <option value="9">9 Players</option>
              <option value="10">10 Players</option>
            </select>
          </div>

        </div>
        <br/>
        <div class="field">
          {{> Text_Form_Control label="Location" placeholder="Hale Hino Study Hall" errorMessage=(fieldError
              "picture")}}
        </div>
        <div class="ui two column grid">
          <div class="column">
            <div class="ui checkbox">
              <input type="checkbox" name="Smoking" id="Smoking" checked="">
              <label>Is Smoking Permitted? </label>
            </div>
          </div>
          <div class="column">
            <div class="ui checkbox">
              <input type="checkbox" name="Alcohol" id="Alcohol" checked="">
              <label>Is Alcohol Permitted? </label>
            </div>
          </div>
        </div>


        <br/>
        <br/>
        <div class="fields">
          {{> Social_Network_Form_Control label="Contact Email" id="contact" icon="person" placeholder="iamDM@hawaii.edu" value=profile.github errorMessage=(fieldError "github")}}
          {{> Text_Form_Control label="Resources" id="resources" placeholder="http://www.d20pfsrd.com/" errorMessage=(fieldError "resources") multiple=true }}
        </div>
        <div class="field">
          {{> Text_Form_Control label="Image URL" id="imageURL" placeholder="http://www.website.com/image.jpg" }}
        </div>
        <div class="field">
          {{> TextArea_Form_Control label="About / Comments" id="about" value=profile.bio placeholder="Short statement about gameplay for those who never heard of game: Roleplaying game in which you play in a high-fantasy environment slaying monsters and solving puzzles. Required to bring: pencil. Optional: D20 dice set and $5.00 for pizza" errorMessage=(fieldError "about")}}
        </div>
        <br/>
        <div class="ui primary submit button">Submit</div>
        <div class="ui reset button">Reset</div>
        <div class="ui error message"></div>
      </div>
    </form>

    <script>
      function enterNameRPG(val) {
        var element = document.getElementById('enterRPG');
        if (val === '7') {
          element.style.display = 'block';
        } else {
          element.style.display = 'none';
        }
      }
      function enterNameCard(val) {
        var element = document.getElementById('enterCard');
        if (val === '10') {
          element.style.display = 'block';
        } else {
          element.style.display = 'none';
        }
      }
      function enterNameBoard(val) {
        var element = document.getElementById('enterBoard');
        if (val === '7') {
          element.style.display = 'block';
        } else {
          element.style.display = 'none';
        }
      }
      function enterNameMini(val) {
        var element = document.getElementById('enterMini');
        if (val === '5') {
          element.style.display = 'block';
        } else {
          element.style.display = 'none';
        }
      }
      $(":radio").click(function () {
        var radioName = $(this).attr("name"); //Get radio name
        $(":radio[name='" + radioName + "']:not(:checked)").attr("disabled", true); //Disable all unchecked radios with the same name
      });

      $('.ui.radio.checkbox')
          .checkbox({
            onChecked: function () {
              var radioName = $(this).attr("name"); //Get radio name
              $(":radio[name='" + radioName + "']:not(:checked)").attr("disabled", true);
              //Disable all unchecked radios with the same name

              if ($(this).attr('id') == 'RPG') {
                $('#rpg').show();
                $('#dataFields').show();
                $('#card').hide();
                $('#board').hide();
                $('#mini').hide();
              }
              else
                if ($(this).attr('id') == 'Card') {
                  $('#card').show();
                  $('#dataFields').show();
                  $('#rpg').hide();
                  $('#board').hide();
                  $('#mini').hide();
                }
                else
                  if ($(this).attr('id') == 'Board') {
                    $('#board').show();
                    $('#dataFields').show();
                    $('#rpg').hide();
                    $('#card').hide();
                    $('#mini').hide();
                  }
                  else {
                    $('#mini').show();
                    $('#dataFields').show();
                    $('#rpg').hide();
                    $('#card').hide();
                    $('#board').hide();
                  }
            }
          });
      $('.dropdown').dropdown({ transition: 'drop' }).dropdown({ on: 'hover' });

      // function to check if the text contains an element from the array
      $.fn.form.settings.rules.containsInArray = function (text, csv) {
        var array = csv.split(','); // you're separating the string by commas
        var isContains = false; // return value
        // for each element check it usign contains function
        $.each(array, function (index, elem) {
          if ($.fn.form.settings.rules.contains(text, $.trim(elem))) {
            // if condition are meet set the result as true
            // and breaks the loop
            isContains = true;
            return false;
          }
        });
        return isContains;
      };
      $('.ui.dropdown')
          .dropdown()
      ;
      $('.ui.form')
          .form({
            fields: {
              title: {
                identifier  : 'title',
                rules: [
                  {
                    type   : 'empty',
                    prompt : 'Please enter a game'
                  }
                ]
              },
            }
          })
      ;

      $('.ui.form')
          .form({
            fields: {
              date: {
                identifier: 'date',
                rules: [
                  {
                    type: 'empty',
                    prompt: 'Please enter a meeting date.'
                  }
                ]
              },
              startTime: {
                identifier: 'start',
                rules: [
                  {
                    type: 'empty',
                    prompt: 'Please enter the starting time.'
                  }
                ]
              },
              endTime: {
                identifier: 'end',
                rules: [
                  {
                    type: 'empty',
                    prompt: 'Please enter the ending time.'
                  }
                ]
              },
              players: {
                identifier: 'Players',
                rules: [
                  {
                    type: 'empty',
                    prompt: 'Please select the maximum number of players.'
                  }
                ]
              },
              location: {
                identifier: 'Location',
                rules: [
                  {
                    type: 'empty',
                    prompt: 'Please enter the location of the game.'
                  }
                ]
              },
              contact: {
                identifier: 'contact',
                rules: [
                  {
                    type: 'email',
                    prompt: 'Please enter a valid email address.'
                  },
                ]
              },
              resources: {
                identifier: 'Resources',
                rules: [
                  {
                    type: 'url',
                    prompt: 'Please enter a valid URL in the Resources field.'
                  },
                ]
              },
              imageURL: {
                identifier: 'imageURL',
                rules: [
                  {
                    type: 'url',
                    prompt: 'Image URL not a valid URL'
                  },
                  {
                    type: 'containsInArray[.png, .jpg, .jpeg, .gif, .tiff, .bmp, .svg]',
                    prompt: 'Image URL not a valid image'
                  },
                ]
              },
              about: {
                identifier: 'about',
                rules: [
                  {
                    type: 'empty',
                    prompt: 'Please enter About/Comments.'
                  },
                ]
              },
            },
          });
    </script>
  </div>
</template>

